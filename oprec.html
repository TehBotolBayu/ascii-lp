<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Open Recruitment</title>
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/css/oprec.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/css/bootstrap-select.min.css">
</head>

<body class="index-page">

    <div id="particles-js"></div>
    <header id="header" class="header d-flex align-items-center sticky-top glass-card">
        <div class="container-fluid container-xl position-relative d-flex align-items-center">
            <a href="index.html" class="logo d-flex align-items-center me-auto">
                <img src="assets/img/logoascii.png" alt="" height="100">
            </a>
        </div>
    </header>


    <main class="main">
        <div class="hero section ">
            <div class="container">

                <div class="row justify-content-center" data-aos="zoom-out">
                    <div class="col-lg-9 text-center">
                        <h1>Formulir Pendaftaran Aslab Informatika</h1>
                        <p>
                            Laboratorium membuka lowongan Asisten Lab kepada Mahasiswa Angkatan 2023-2020 Program Studi
                            Informatika di Lingkungan Fakultas Teknik Universitas Mulawarman pada tahun ajaran 2024/2025
                            Genap.
                            Isi formulir berikut jika tertarik
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <section id="contact" class="contact section">
        <div class="container section " data-aos="fade-up" data-aos-delay="100">
            <div class="row gy-4 d-flex justify-content-center align-items-center">
                <div class="col-lg-8">
                    <form method="post" class="php-email-form" data-aos="fade-up" data-aos-delay="200"
                        enctype="multipart/form-data">
                        <div class="row gy-4">

                            <!-- Email Address -->
                            <div class="col-md-12">
                                <label>Email</label>
                                <input type="email" name="email" class="form-control" placeholder="Alamat Email"
                                    required="">
                            </div>

                            <!-- Nama -->
                            <div class="col-md-12">
                                <label>Nama</label>
                                <input type="text" name="name" class="form-control" placeholder="Nama" required="">
                            </div>

                            <!-- NIM Kelas -->
                            <div class="col-md-12">
                                <label>NIM</label>
                                <input type="text" name="nim_kelas" class="form-control" placeholder="NIM Kelas"
                                    required="">
                            </div>

                            <!-- No HP & WA -->
                            <div class="col-md-12">
                                <label>NO HP</label>
                                <input type="text" name="phone_wa" class="form-control" placeholder="No HP & WA"
                                    required="">
                            </div>

                            <!-- Angkatan Dropdown -->
                            <div class=" col-md-12">
                                <label>Angkatan</label>
                                <select id="angkatan" name="angkatan" class="form-control inputbox" required>
                                    <option value="">Pilih Angkatan</option>
                                    <option value="2020">2020</option>
                                    <option value="2021">2021</option>
                                    <option value="2022">2022</option>
                                    <option value="2023">2023</option>
                                </select>
                            </div>

                            <!-- Matakuliah Dropdown -->
                            <div class="col-md-12" >
                                <label>Matakuliah Yang Ingin Diajar (Pilih kolom angkatan terlebih dahulu untuk memunculkan pilihan)</label>
                                <select id="multiSelectDropdown" name="matakuliah " class="form-control selectpicker" multiple data-live-search="true" required >
                                    <!-- <option value="">Pilih Matakuliah</option> -->
                                </select>
                            </div>

                            <!-- Sertifikat Pendukung -->
                            <div class="col-md-12">
                                <label>Sertifikat Pendukung (PDF)</label>
                                <input type="file" name="sertifikat" class="form-control inputbox" accept=".pdf">
                            </div>

                            <!-- Transkrip/KHS -->
                            <div class="col-md-12">
                                <label>Transkrip/KHS yang Berisi Matakuliah yang Diajar</label>
                                <input type="file" name="transkrip" class="form-control inputbox" required accept=".pdf">
                            </div>

                            <!-- Checkbox Agreement -->
                            <div class="col-md-12">
                                <label>
                                    <input type="checkbox" name="agreement" required>
                                    Dengan ini menyatakan bahwa Saya bersedia menjadi Asisten Laboratorium Informatika
                                    dan melaksanakan semua ketentuan serta tanggung jawab yang telah ditetapkan oleh
                                    ASCII dan pihak Fakultas Teknik Universitas Mulawarman.
                                </label>
                            </div>

                            <div class="col-md-12">
                                <p>
                                    Persyaratan anggota:</p>
                                <ul style="list-style-type: none;">
                                    <li>a. IPK minimal 3,25</li>
                                    <li>b. Jujur dan bertanggung jawab</li>
                                    <li>c. Mau belajar</li>
                                    <li>d. Mampu bekerja sama dengan Tim Lab.</li>
                                    <li>e. Memiliki kemampuan komunikasi yang baik</li>
                                    <li>f. Mata Kuliah yang diajar minimal mendapatkan nilai B</li>
                                </ul>
                                </p>
                            </div>

                            <!-- Submit Button -->
                            <div class="col-md-12 text-center">
                                <div class="loading">Loading</div>
                                <div class="error-message"></div>
                                <div class="sent-message">Your message has been sent. Thank you!</div>
                                <button type="submit">Kirim Formulir</button>
                            </div>

                        </div>
                    </form>
                </div>



            </div><!-- End Contact Form -->
        </div>
        </div>
    </section>
    
    <!-- Particle JS -->
    <script src="./particles.js"></script>
    <script src="./app.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <!-- Bootstrap Select JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>
    
    <script>
        const options = {
            2020: ["Internet Of Things "],
            2021: [
                "Rekayasa Perangkat Lunak ",
                "Pemrograman Berbasis Objek ",
                "Jaringan Komputer ",
                "Sistem Operasi ",
                "Internet Of Things ",
                "Pemrograman Visual "
            ],
            2022: [
                "Algoritma Pemrograman Lanjut ",
                "Rekayasa Perangkat Lunak ",
                "Pemrograman Berbasis Objek ",
                "Jaringan Komputer ",
                "Sistem Operasi ",
                "Pemrograman Visual "
            ],
            2023: [
                "Algoritma Pemrograman Lanjut ",
                "Jaringan Komputer ",
                "Sistem Operasi ",
            ]
        };
        
        $(document).ready(function() {
        // Initialize the multi-select dropdown
        $('#multiSelectDropdown').selectpicker();

        // Event listener for the main dropdown
        $('#angkatan').on('change', function() {
            const selectedCategory = $(this).val(); // Get the selected category
            const multiSelect = $('#multiSelectDropdown');

            // Clear existing options
            multiSelect.empty();

            // Add new options based on the selected category
            if (selectedCategory && options[selectedCategory]) {
                options[selectedCategory].forEach(function(item) {
                    multiSelect.append(`<option value="${item}">${item}</option>`);
                });
            }

            // Refresh the multi-select dropdown to reflect changes
            multiSelect.selectpicker('refresh');
        });
    });
    </script>
    <script>
        

        document.querySelector('.php-email-form').addEventListener('submit', async function (e) {
            e.preventDefault();
            
            const multiSelect = document.getElementById("multiSelectDropdown");
        
            // Get the selected options
            const selectedOptions = multiSelect.selectedOptions;
            
            // Extract values or text from the selected options
            const selectedValues = [];
            const selectedTexts = [];
            
            for (let option of selectedOptions) {
                selectedValues.push(option.value); // Get the value of the selected option
                selectedTexts.push(option.text);   // Get the text of the selected option
            }
            
            const form = e.target;
            const formData = new FormData(form);
            formData.append('matkul', selectedValues.join(', '));
            
            const loadingMessage = form.querySelector('.loading');
            const successMessage = form.querySelector('.sent-message');
            const errorMessage = form.querySelector('.error-message');

            loadingMessage.style.display = 'block';
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';

            try {
                const response = await fetch('https://oprecapi2.vercel.app/api/submit', {
                    method: 'POST',
                    body: formData,
                });

                if (!response.ok) {
                    throw new Error(`Server error: ${response.status}`);
                }

                const result = await response.json();
                loadingMessage.style.display = 'none';
                successMessage.style.display = 'block';
                successMessage.textContent = result.message || 'Your message has been sent. Thank you!';
            } catch (error) {
                loadingMessage.style.display = 'none';
                errorMessage.style.display = 'block';
                errorMessage.textContent = error.message || 'An error occurred while submitting the form.';
            }
        });
    </script>


</body>

</html>